!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Neysla=function(e){if(e=a.doError(e)){var t=a.doService(e);return new Promise(function(e,n){return t?e(t):n(t)})}};var a={doError:function(e){var t=!0;if(e instanceof Object||e instanceof Array?e instanceof Array&&!e.length&&(console.error("Neysla: Array of initializators is empty."),t=!1):(console.error("Neysla: You must set an Array of initializators, in order to use a generated Oauth2 accessToken."),t=!1),!t||e instanceof Array||(e=[e]),t)for(var n in e)e[n].name&&"string"==typeof e[n].name&&""!=typeof e[n].name?e[n].url&&"string"==typeof e[n].url&&""!=typeof e[n].url?e[n].token&&"object"===o(e[n].token)&&!("object"===o(e[n].token)&&e[n].token instanceof Array)&&e[n].token.name&&"string"==typeof e[n].token.name&&""!=typeof e[n].token.name&&e[n].token.value&&"string"==typeof e[n].token.value&&""!=typeof e[n].token.value||(console.warn("Neysla: Initializator with index "+n+" has no properly defined token's name and/or value.\n          Therefore no token will be added to your models"),e[n].token=null):(console.error("Neysla: Initializator with index "+n+" has no properly defined url."),t=!1):(console.error("Neysla: Initializator with index "+n+" has no properly defined name."),t=!1);return!!t&&e},doService:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var i=s.value;t[i.name]=this._setBuilder(i)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t},_setBuilder:function(e){return new i({url:e.url,token:e.token})}},i=function(){function e(t){s(this,e),this.config=t}return r(e,[{key:"getToken",value:function(){return this.config.token}},{key:"setModel",value:function(e){return new u(this.config,e)}}]),e}(),u=function(){function e(t,n){s(this,e),n instanceof Array||"string"==typeof n?(this.token=t.token,this.name=n,this.url=t.url):console.error("Neysla: The model's name is not properly defined.")}return r(e,[{key:"_setUrl",value:function(e){if(e instanceof Object)if(!e.delimiters||e.delimiters instanceof Array||"string"==typeof e.delimiters||"number"==typeof e.delimiters){if("string"==typeof this.name&&(this.name=[this.name]),!e.delimiters||e.delimiters instanceof Array?e.delimiters||(e.delimiters=[]):e.delimiters=[e.delimiters],!(!e.delimiters&&1<this.name.length||this.name.length!==e.delimiters.length&&this.name.length-1!==e.delimiters.length)){var t="";for(var n in this.name)t+=this.name[n]+(e.delimiters[n]?"/"+e.delimiters[n]:"")+(parseInt(n,10)===this.name.length-1?this.token?"?"+this.token.name+"="+this.token.value:"":"/");return t}console.error("Neysla: Incorrect relation between name and delimiters.")}else console.error("Neysla: The model's delimiters are not properly defined.");else console.error("Neysla: The model's data is not properly defined.")}},{key:"_setParams",value:function(e){var t=this,n="";if(e instanceof Object){var r=0;Object.keys(e).forEach(function(o){n+=(0!==r||0===r&&t.token?"&":"?")+o+"="+e[o],r++})}return n}},{key:"_setBody",value:function(e){var t=null;return e instanceof Object&&data.requestJson?t=JSON.stringify(e):e instanceof Object&&(t="",Object.keys(e).forEach(function(n){return t+=(""!==t?"&":"")+n+"="+e[n]})),t}},{key:"_handleResponse",value:function(e,t,n){var r={headers:{},status:e.status,statusText:e.statusText,getHeader:function(t){return e.getResponseHeader(t)},data:e.response,dataType:e.responseType,url:e.responseURL},o=e.getAllResponseHeaders().split("\r\n"),s=!0,a=!1,i=void 0;try{for(var u,l=o[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;if(""!==f){var c=f.split(":");r.headers[c[0]]=c[1].trim()}}}catch(t){a=!0,i=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw i}}300<=e.status||0===e.status?n(r):t(r)}},{key:"_executeRequest",value:function(e){var t=this;return new Promise(function(n,r){var o=new XMLHttpRequest;o.addEventListener("loadend",function(){return t._handleResponse(o,n,r)}),o.responseType=e.responseType&&"string"==typeof e.responseType?e.responseType:"json",o.open(e.method,t.url+e.paramsRequest,!0),o.setRequestHeader("Content-Type",e.requestJson?"application/json":"application/x-www-form-urlencoded"),o.send(e.body)})}},{key:"get",value:function(e){var t=this._setUrl(e);return e.params instanceof Object&&(t+=this._setParams(e.params)),this._executeRequest({method:"GET",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:t,body:null})}},{key:"head",value:function(e){var t=this._setUrl(e);return e.params instanceof Object&&(t+=this._setParams(e.params)),this._executeRequest({method:"HEAD",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:t,body:null})}},{key:"post",value:function(e){var t=this._setBody(e.body),n=this._setUrl(e);return e.params instanceof Object&&(n+=this._setParams(e.params)),this._executeRequest({method:"POST",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:n,body:t})}},{key:"patch",value:function(e){var t=this._setBody(e.body),n=this._setUrl(e);return e.params instanceof Object&&(n+=this._setParams(e.params)),this._executeRequest({method:"PATCH",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:n,body:t})}},{key:"put",value:function(e){var t=this._setBody(e.body),n=this._setUrl(e);return e.params instanceof Object&&(n+=this._setParams(e.params)),this._executeRequest({method:"PUT",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:n,body:t})}},{key:"remove",value:function(e){var t=this._setBody(e.body),n=this._setUrl(e);return e.params instanceof Object&&(n+=this._setParams(e.params)),this._executeRequest({method:"DELETE",requestJson:e.requestJson,responseType:e.responseType,paramsRequest:n,body:t})}}]),e}()}]);